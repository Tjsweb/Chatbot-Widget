/*! For license information please see chatbot.min.js.LICENSE.txt */
(()=>{"use strict";var t={445:(t,e)=>{var n,o,s;e.SchemaType=void 0,(n=e.SchemaType||(e.SchemaType={})).STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object",e.ExecutableCodeLanguage=void 0,(o=e.ExecutableCodeLanguage||(e.ExecutableCodeLanguage={})).LANGUAGE_UNSPECIFIED="language_unspecified",o.PYTHON="python",e.Outcome=void 0,(s=e.Outcome||(e.Outcome={})).OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded";const i=["user","model","function","system"];var a,r,c,l,d,u,h,f,m;e.HarmCategory=void 0,(a=e.HarmCategory||(e.HarmCategory={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HarmBlockThreshold=void 0,(r=e.HarmBlockThreshold||(e.HarmBlockThreshold={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",e.HarmProbability=void 0,(c=e.HarmProbability||(e.HarmProbability={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",c.NEGLIGIBLE="NEGLIGIBLE",c.LOW="LOW",c.MEDIUM="MEDIUM",c.HIGH="HIGH",e.BlockReason=void 0,(l=e.BlockReason||(e.BlockReason={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",e.FinishReason=void 0,(d=e.FinishReason||(e.FinishReason={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",d.STOP="STOP",d.MAX_TOKENS="MAX_TOKENS",d.SAFETY="SAFETY",d.RECITATION="RECITATION",d.LANGUAGE="LANGUAGE",d.OTHER="OTHER",e.TaskType=void 0,(u=e.TaskType||(e.TaskType={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",u.RETRIEVAL_QUERY="RETRIEVAL_QUERY",u.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",u.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",u.CLASSIFICATION="CLASSIFICATION",u.CLUSTERING="CLUSTERING",e.FunctionCallingMode=void 0,(h=e.FunctionCallingMode||(e.FunctionCallingMode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",h.AUTO="AUTO",h.ANY="ANY",h.NONE="NONE",e.DynamicRetrievalMode=void 0,(f=e.DynamicRetrievalMode||(e.DynamicRetrievalMode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",f.MODE_DYNAMIC="MODE_DYNAMIC";class g extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class p extends g{constructor(t,e){super(t),this.response=e}}class y extends g{constructor(t,e,n,o){super(t),this.status=e,this.statusText=n,this.errorDetails=o}}class E extends g{}!function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"}(m||(m={}));class v{constructor(t,e,n,o,s){this.model=t,this.task=e,this.apiKey=n,this.stream=o,this.requestOptions=s}toString(){var t,e;const n=(null===(t=this.requestOptions)||void 0===t?void 0:t.apiVersion)||"v1beta";let o=`${(null===(e=this.requestOptions)||void 0===e?void 0:e.baseUrl)||"https://generativelanguage.googleapis.com"}/${n}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}async function C(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",function(t){const e=[];return(null==t?void 0:t.apiClient)&&e.push(t.apiClient),e.push("genai-js/0.21.0"),e.join(" ")}(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let o=null===(e=t.requestOptions)||void 0===e?void 0:e.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(t){throw new E(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${t.message}`)}for(const[t,e]of o.entries()){if("x-goog-api-key"===t)throw new E(`Cannot set reserved header name ${t}`);if("x-goog-api-client"===t)throw new E(`Header name ${t} can only be set using the apiClient field`);n.append(t,e)}}return n}async function O(t,e,n,o,s,i={},a=fetch){const{url:r,fetchOptions:c}=await async function(t,e,n,o,s,i){const a=new v(t,e,n,o,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},b(i)),{method:"POST",headers:await C(a),body:s})}}(t,e,n,o,s,i);return async function(t,e,n=fetch){let o;try{o=await n(t,e)}catch(e){!function(t,e){let n=t;throw t instanceof y||t instanceof E||(n=new g(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}(e,t)}return o.ok||await async function(t,e){let n,o="";try{const e=await t.json();o=e.error.message,e.error.details&&(o+=` ${JSON.stringify(e.error.details)}`,n=e.error.details)}catch(t){}throw new y(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${o}`,t.status,t.statusText,n)}(o,t),o}(r,c,a)}function b(t){const e={};if(void 0!==(null==t?void 0:t.signal)||(null==t?void 0:t.timeout)>=0){const n=new AbortController;(null==t?void 0:t.timeout)>=0&&setTimeout((()=>n.abort()),t.timeout),(null==t?void 0:t.signal)&&t.signal.addEventListener("abort",(()=>{n.abort()})),e.signal=n.signal}return e}function _(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),w(t.candidates[0]))throw new p(`${R(t)}`,t);return function(t){var e,n,o,s;const i=[];if(null===(n=null===(e=t.candidates)||void 0===e?void 0:e[0].content)||void 0===n?void 0:n.parts)for(const e of null===(s=null===(o=t.candidates)||void 0===o?void 0:o[0].content)||void 0===s?void 0:s.parts)e.text&&i.push(e.text),e.executableCode&&i.push("\n```"+e.executableCode.language+"\n"+e.executableCode.code+"\n```\n"),e.codeExecutionResult&&i.push("\n```\n"+e.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}(t)}if(t.promptFeedback)throw new p(`Text not available. ${R(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),w(t.candidates[0]))throw new p(`${R(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),I(t)[0]}if(t.promptFeedback)throw new p(`Function call not available. ${R(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),w(t.candidates[0]))throw new p(`${R(t)}`,t);return I(t)}if(t.promptFeedback)throw new p(`Function call not available. ${R(t)}`,t)},t}function I(t){var e,n,o,s;const i=[];if(null===(n=null===(e=t.candidates)||void 0===e?void 0:e[0].content)||void 0===n?void 0:n.parts)for(const e of null===(s=null===(o=t.candidates)||void 0===o?void 0:o[0].content)||void 0===s?void 0:s.parts)e.functionCall&&i.push(e.functionCall);return i.length>0?i:void 0}const T=[e.FinishReason.RECITATION,e.FinishReason.SAFETY,e.FinishReason.LANGUAGE];function w(t){return!!t.finishReason&&T.includes(t.finishReason)}function R(t){var e,n,o;let s="";if(t.candidates&&0!==t.candidates.length||!t.promptFeedback){if(null===(o=t.candidates)||void 0===o?void 0:o[0]){const e=t.candidates[0];w(e)&&(s+=`Candidate was blocked due to ${e.finishReason}`,e.finishMessage&&(s+=`: ${e.finishMessage}`))}}else s+="Response was blocked",(null===(e=t.promptFeedback)||void 0===e?void 0:e.blockReason)&&(s+=` due to ${t.promptFeedback.blockReason}`),(null===(n=t.promptFeedback)||void 0===n?void 0:n.blockReasonMessage)&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);return s}function S(t){return this instanceof S?(this.v=t,this):new S(t)}"function"==typeof SuppressedError&&SuppressedError;const A=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function N(t){const e=[],n=t.getReader();for(;;){const{done:t,value:o}=await n.read();if(t)return _(M(e));e.push(o)}}function x(t){return function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,s=n.apply(t,e||[]),i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(t){s[t]&&(o[t]=function(e){return new Promise((function(n,o){i.push([t,e,n,o])>1||r(t,e)}))})}function r(t,e){try{(n=s[t](e)).value instanceof S?Promise.resolve(n.value.v).then(c,l):d(i[0][2],n)}catch(t){d(i[0][3],t)}var n}function c(t){r("next",t)}function l(t){r("throw",t)}function d(t,e){t(e),i.shift(),i.length&&r(i[0][0],i[0][1])}}(this,arguments,(function*(){const e=t.getReader();for(;;){const{value:t,done:n}=yield S(e.read());if(n)break;yield yield S(_(t))}}))}function M(t){const e=t[t.length-1],n={promptFeedback:null==e?void 0:e.promptFeedback};for(const e of t){if(e.candidates)for(const t of e.candidates){const e=t.index;if(n.candidates||(n.candidates=[]),n.candidates[e]||(n.candidates[e]={index:t.index}),n.candidates[e].citationMetadata=t.citationMetadata,n.candidates[e].groundingMetadata=t.groundingMetadata,n.candidates[e].finishReason=t.finishReason,n.candidates[e].finishMessage=t.finishMessage,n.candidates[e].safetyRatings=t.safetyRatings,t.content&&t.content.parts){n.candidates[e].content||(n.candidates[e].content={role:t.content.role||"user",parts:[]});const o={};for(const s of t.content.parts)s.text&&(o.text=s.text),s.functionCall&&(o.functionCall=s.functionCall),s.executableCode&&(o.executableCode=s.executableCode),s.codeExecutionResult&&(o.codeExecutionResult=s.codeExecutionResult),0===Object.keys(o).length&&(o.text=""),n.candidates[e].content.parts.push(o)}}e.usageMetadata&&(n.usageMetadata=e.usageMetadata)}return n}async function D(t,e,n,o){return function(t){const e=function(t){const e=t.getReader();return new ReadableStream({start(t){let n="";return function o(){return e.read().then((({value:e,done:s})=>{if(s)return n.trim()?void t.error(new g("Failed to parse stream")):void t.close();n+=e;let i,a=n.match(A);for(;a;){try{i=JSON.parse(a[1])}catch(e){return void t.error(new g(`Error parsing JSON response: "${a[1]}"`))}t.enqueue(i),n=n.substring(a[0].length),a=n.match(A)}return o()}))}()}})}(t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))),[n,o]=e.tee();return{stream:x(n),response:N(o)}}(await O(e,m.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),o))}async function L(t,e,n,o){const s=await O(e,m.GENERATE_CONTENT,t,!1,JSON.stringify(n),o);return{response:_(await s.json())}}function H(t){if(null!=t)return"string"==typeof t?{role:"system",parts:[{text:t}]}:t.text?{role:"system",parts:[t]}:t.parts?t.role?t:{role:"system",parts:t.parts}:void 0}function G(t){let e=[];if("string"==typeof t)e=[{text:t}];else for(const n of t)"string"==typeof n?e.push({text:n}):e.push(n);return function(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let o=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),o=!0);if(o&&s)throw new g("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!s)throw new g("No content is provided for sending chat message.");return o?e:n}(e)}function P(t){let e;return e=t.contents?t:{contents:[G(t)]},t.systemInstruction&&(e.systemInstruction=H(t.systemInstruction)),e}const k=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],F={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]},j="SILENT_ERROR";class B{constructor(t,e,n,o={}){this.model=e,this.params=n,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,(null==n?void 0:n.history)&&(function(t){let e=!1;for(const n of t){const{role:t,parts:o}=n;if(!e&&"user"!==t)throw new g(`First content should be with role 'user', got ${t}`);if(!i.includes(t))throw new g(`Each item should include role field. Got ${t} but valid roles are: ${JSON.stringify(i)}`);if(!Array.isArray(o))throw new g("Content should have 'parts' property with an array of Parts");if(0===o.length)throw new g("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const t of o)for(const e of k)e in t&&(s[e]+=1);const a=F[t];for(const e of k)if(!a.includes(e)&&s[e]>0)throw new g(`Content with role '${t}' can't contain '${e}' part`);e=!0}}(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,e={}){var n,o,s,i,a,r;await this._sendPromise;const c=G(t),l={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(o=this.params)||void 0===o?void 0:o.generationConfig,tools:null===(s=this.params)||void 0===s?void 0:s.tools,toolConfig:null===(i=this.params)||void 0===i?void 0:i.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(r=this.params)||void 0===r?void 0:r.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),e);let u;return this._sendPromise=this._sendPromise.then((()=>L(this._apiKey,this.model,l,d))).then((t=>{var e;if(t.response.candidates&&t.response.candidates.length>0){this._history.push(c);const n=Object.assign({parts:[],role:"model"},null===(e=t.response.candidates)||void 0===e?void 0:e[0].content);this._history.push(n)}else{const e=R(t.response);e&&console.warn(`sendMessage() was unsuccessful. ${e}. Inspect response object for details.`)}u=t})),await this._sendPromise,u}async sendMessageStream(t,e={}){var n,o,s,i,a,r;await this._sendPromise;const c=G(t),l={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(o=this.params)||void 0===o?void 0:o.generationConfig,tools:null===(s=this.params)||void 0===s?void 0:s.tools,toolConfig:null===(i=this.params)||void 0===i?void 0:i.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(r=this.params)||void 0===r?void 0:r.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),e),u=D(this._apiKey,this.model,l,d);return this._sendPromise=this._sendPromise.then((()=>u)).catch((t=>{throw new Error(j)})).then((t=>t.response)).then((t=>{if(t.candidates&&t.candidates.length>0){this._history.push(c);const e=Object.assign({},t.candidates[0].content);e.role||(e.role="model"),this._history.push(e)}else{const e=R(t);e&&console.warn(`sendMessageStream() was unsuccessful. ${e}. Inspect response object for details.`)}})).catch((t=>{t.message!==j&&console.error(t)})),u}}class U{constructor(t,e,n={}){this.apiKey=t,this._requestOptions=n,e.model.includes("/")?this.model=e.model:this.model=`models/${e.model}`,this.generationConfig=e.generationConfig||{},this.safetySettings=e.safetySettings||[],this.tools=e.tools,this.toolConfig=e.toolConfig,this.systemInstruction=H(e.systemInstruction),this.cachedContent=e.cachedContent}async generateContent(t,e={}){var n;const o=P(t),s=Object.assign(Object.assign({},this._requestOptions),e);return L(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},o),s)}async generateContentStream(t,e={}){var n;const o=P(t),s=Object.assign(Object.assign({},this._requestOptions),e);return D(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},o),s)}startChat(t){var e;return new B(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(e=this.cachedContent)||void 0===e?void 0:e.name},t),this._requestOptions)}async countTokens(t,e={}){const n=function(t,e){var n;let o={model:null==e?void 0:e.model,generationConfig:null==e?void 0:e.generationConfig,safetySettings:null==e?void 0:e.safetySettings,tools:null==e?void 0:e.tools,toolConfig:null==e?void 0:e.toolConfig,systemInstruction:null==e?void 0:e.systemInstruction,cachedContent:null===(n=null==e?void 0:e.cachedContent)||void 0===n?void 0:n.name,contents:[]};const s=null!=t.generateContentRequest;if(t.contents){if(s)throw new E("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=t.contents}else if(s)o=Object.assign(Object.assign({},o),t.generateContentRequest);else{const e=G(t);o.contents=[e]}return{generateContentRequest:o}}(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),e);return async function(t,e,n,o){return(await O(e,m.COUNT_TOKENS,t,!1,JSON.stringify(n),o)).json()}(this.apiKey,this.model,n,o)}async embedContent(t,e={}){const n="string"==typeof(s=t)||Array.isArray(s)?{content:G(s)}:s,o=Object.assign(Object.assign({},this._requestOptions),e);var s;return async function(t,e,n,o){return(await O(e,m.EMBED_CONTENT,t,!1,JSON.stringify(n),o)).json()}(this.apiKey,this.model,n,o)}async batchEmbedContents(t,e={}){const n=Object.assign(Object.assign({},this._requestOptions),e);return async function(t,e,n,o){const s=n.requests.map((t=>Object.assign(Object.assign({},t),{model:e})));return(await O(e,m.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),o)).json()}(this.apiKey,this.model,t,n)}}e.ChatSession=B,e.GenerativeModel=U,e.GoogleGenerativeAI=class{constructor(t){this.apiKey=t}getGenerativeModel(t,e){if(!t.model)throw new g("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new U(this.apiKey,t,e)}getGenerativeModelFromCachedContent(t,e,n){if(!t.name)throw new E("Cached content must contain a `name` field.");if(!t.model)throw new E("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const n of o)if((null==e?void 0:e[n])&&t[n]&&(null==e?void 0:e[n])!==t[n]){if("model"===n&&(e.model.startsWith("models/")?e.model.replace("models/",""):e.model)===(t.model.startsWith("models/")?t.model.replace("models/",""):t.model))continue;throw new E(`Different value for "${n}" specified in modelParams (${e[n]}) and cachedContent (${t[n]})`)}const s=Object.assign(Object.assign({},e),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new U(this.apiKey,s,n)}},e.GoogleGenerativeAIError=g,e.GoogleGenerativeAIFetchError=y,e.GoogleGenerativeAIRequestInputError=E,e.GoogleGenerativeAIResponseError=p,e.POSSIBLE_ROLES=i},600:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function r(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}c((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.generate=function(t){return o(this,void 0,void 0,(function*(){const e=t+"\n\nWe have scraped above given data from the website, we want to refine this data in order to train our chatbot. Can you give us refined data and give us in a format such that we only need to copy without any additional texts in the response?";console.log(e);const n=yield s.generateContent(e),o=(yield n.response).text();return console.log(o),o}))},e.generateChatResponse=function(t){return o(this,void 0,void 0,(function*(){i=s.startChat({history:[{role:"user",parts:[{text:"Hello"}]},{role:"model",parts:[{text:"Great to meet you. What would you like to know?"}]},{role:"user",parts:[{text:t}]}]})}))},e.sendMessage=function(t){return o(this,void 0,void 0,(function*(){return new Promise(((e,n)=>o(this,void 0,void 0,(function*(){let n=yield i.sendMessage(t+"\n\nGive answer in precise and concise manner. Do not include any additional information or special characters.");const o=(yield n.response).text();e(o)}))))}))};const s=new(n(445).GoogleGenerativeAI)("AIzaSyD4jetEIiVgEcpUBETlu3_7Cx-MoKRGEy0").getGenerativeModel({model:"gemini-1.5-flash"});let i=s.startChat({history:[]})}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o=n(600);function s(){return new Promise(((t,e)=>{const n=indexedDB.open("ChatDB",1);n.onupgradeneeded=t=>{const e=t.target.result;e.objectStoreNames.contains("chats")||e.createObjectStore("chats",{keyPath:"id",autoIncrement:!0})},n.onsuccess=e=>{t(e.target.result)},n.onerror=t=>{e(t.target.error)}}))}async function i(t){const e=(await s()).transaction("chats","readwrite"),n=e.objectStore("chats");n.clear(),n.put({id:1,data:t.messages}),e.oncomplete=()=>{},e.onerror=t=>{}}!async function(){let t={messages:[]};t.messages=await async function(){const t=(await s()).transaction("chats","readonly").objectStore("chats").get(1);return new Promise(((e,n)=>{t.onsuccess=()=>{e(t.result?t.result.data:[])},t.onerror=t=>{n(t.target.error)}}))}(),t.messages.length||(t={messages:[{type:"received",text:"Hi, What can I help you with?",time:"2:09 PM",attachments:[]}]});const e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.tailwindcss.com",document.head.appendChild(e);let n=!1;function a(){const e=document.getElementById("chat-content");e.innerHTML="",t.messages.forEach((t=>{const n=document.createElement("div");n.style.marginBottom="16px",n.style.display="flex",n.style.flexDirection=(t.type,"column"),n.style.alignItems="received"===t.type?"flex-start":"flex-end",n.innerHTML="\n        "+("received"===t.type?`\n          <div style="display: flex; align-items: flex-start;">\n            <img src="https://cdn.vectorstock.com/i/1000v/16/60/chat-bot-icon-robot-virtual-assistant-vector-43541660.jpg" \n                alt="Bot Avatar" \n                style="width: 40px; height: 40px; border-radius: 50%; margin-right: 8px;">\n            <div>\n              <p class="chatbot-response" \n                style="margin: 0; padding: 8px; background-color: #ddd; color: black; text-align: left; width: fit-content;">\n                ${t.text}\n              </p>\n              <small style="color: black;">${t.time}</small>\n            </div>\n          </div>\n        `:`\n          <div style="display: flex; align-items: flex-end; flex-direction: column;">\n            <p class="user-message" \n              style="margin: 0; padding: 8px; background-color: #3B82F6; color: white; text-align: right;  width: fit-content;">\n              ${t.text}\n            </p>\n            <small style="color: gray;">${t.time}</small>\n          </div>\n        `),e.appendChild(n)})),e.scrollTop=e.scrollHeight}async function r(){const e=document.getElementById("chatbot-input"),s=e.value.trim();if(s&&!n){const r=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});t.messages.push({type:"sent",text:s,time:r,attachments:[]}),a(),i(t),e.value="",n=!0;const c=await(0,o.sendMessage)(s);t.messages.push({type:"received",text:c,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),attachments:[]}),a(),i(t),n=!1}}function c(){const t=document.getElementById("chatbot-container");"scale(0)"===t.style.transform?(t.style.transform="scale(1)",t.style.opacity="1",document.getElementById("chat-button").style.display="none"):(t.style.transform="scale(0)",t.style.opacity="0",document.getElementById("chat-button").style.display="block")}document.addEventListener("DOMContentLoaded",(function(){!function(){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/js/all.min.js",document.head.appendChild(t);const e=document.createElement("button");e.id="chat-button",e.innerHTML='<i class="fas fa-comment"></i>',e.style.position="fixed",e.style.bottom="1.5rem",e.style.right="1.5rem",e.style.width="3rem",e.style.height="3rem",e.style.backgroundColor="#2563eb",e.style.color="white",e.style.border="none",e.style.borderRadius="50%",e.style.cursor="pointer",e.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)",e.style.fontSize="1.5rem",e.style.zIndex="1000",document.body.appendChild(e),e.addEventListener("click",c)}(),function(){const t=document.createElement("div");t.id="chatbot-container",t.style.transition="all 0.35s ease-in-out",t.style.transformOrigin="bottom right",t.style.transform="scale(0)",t.style.opacity="0",t.innerHTML='\n      <div id="chatbot-header">\n        <h3 style="font-size: 1.25rem; font-weight: bold;">Kakr Assistant</h3>\n        <button id="close-chat" style="background: none; border: none; color: #fff; font-size: 1.5rem; cursor: pointer;">&times;</button>\n      </div>\n      <div id="chatbot-body" style="flex-grow: 1; overflow-y: auto; margin-top: 0.5rem;">\n        <div id="chat-content" style="overflow-y: auto; padding: 16px;">\n        </div>\n      </div>\n      <div class="relative w-full p-3">\n        <div id="chatbot-input-div" class="flex items-center border rounded-md overflow-hidden">\n          <input\n            type="text"\n            id="chatbot-input" \n            placeholder="Type your message..." \n            class="w-full pl-5 py-2 focus:outline-none border-none"\n          />\n          <button\n            id="chatbot-send" \n            class="flex items-center text-blue-600 px-3 h-full cursor-pointer"\n            >\n            <i class="fas fa-paper-plane"></i>\n          </button>\n        </div>\n      </div>\n    ',document.body.appendChild(t);const e=document.getElementById("chatbot-input");e.addEventListener("keypress",(t=>{"Enter"===t.key&&(r(),e.value="")})),document.getElementById("chatbot-send").addEventListener("click",(()=>{r(),e.value=""})),document.getElementById("close-chat").addEventListener("click",c),a()}(),a()}))}()})();